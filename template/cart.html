<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DuAn</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <script src="js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/592deca63b.js" crossorigin="anonymous"></script>
       
    
    
    <div class="container" style="margin-top: 20px;">
           <table class="table text-center align-middle">
               <thead>
                   <tr>
                       <th>STT</th>
                       <th>Ảnh đại diện</th>
                       <th class="text-start">Tên sản phẩm</th>
                       <th>Số lượng</th>
                       <th>Đơn giá</th>
                       <th>Tổng tiền</th>
                       <th class="text-center">Hành động</th>
                   </tr>
               </thead>
               <tbody>
                <tr>
                    <td>1</td>
                    <td><img src="img/product/Burger Bulgogi.png" width="150px" alt=""></td>
                    <td class="text-start">1 MIẾNG GÀ GIÒN VUI VẺ <p>Kích thước : Lớn</p></td>
                    <td>5</td>
                    <td>50.000 đ</td>
                    <td>0 đ</td>
                    <td class="text-center">
                        <button class="custom-button">
                            <ion-icon name="trash-outline"></ion-icon>
                        </button>
                    </td>
                </tr>
               </tbody>
           </table>
   
           <div class="tongtienAll">
                <p class="tong" style="font-size: 26px;"><b>Tổng tiền:</b> <span id="totalAmount">0 đ</span></p>
            </div>
        
             <div class="nut">
               <div class="btn-left">
                 <a href="#" class="btn">Thêm sản phẩm </a>
               </div>
               <div class="btn-right">
                 <a href="#" class="btn">Tiếp tục</a>
               </div>
             </div>

       </div>

       <style>

        .custom-button {
            margin: auto;
            background: none;
            color: rgb(0, 0, 0); 
            border: none; 
            padding: 8px 12px; 
            border-radius: 4px;
            cursor: pointer; 
            transition: background-color 0.3s; 
            outline: none; 
            display: flex; 
            align-items: center;
        }

        .custom-button ion-icon {
            font-size: 30px;
            margin-right: 5px; 
        }

       </style>
       <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
       <script>
        document.addEventListener('DOMContentLoaded', function () {
        const rows = document.querySelectorAll('.table tbody tr');

        rows.forEach((row, index) => {
            const quantity = parseFloat(row.cells[3].innerText);
            const unitPrice = parseFloat(row.cells[4].innerText.replace(' đ', '').replace(',', ''));
            const totalPriceCell = row.cells[5];

            const calculateTotal = () => {
                const total = quantity * unitPrice *1000;
                totalPriceCell.innerText = total.toLocaleString('vi-VN') + ' đ'; // Hiển thị tổng tiền với định dạng tiền tệ
            };

            calculateTotal();

            // Xử lý sự kiện khi thay đổi số lượng
            const quantityInput = row.cells[3].querySelector('input[type="number"]');
            quantityInput.addEventListener('input', function () {
                quantity = parseFloat(this.value);
                calculateTotal();
                    });
                });
            });

            document.addEventListener('DOMContentLoaded', function () {
            const rows = document.querySelectorAll('.table tbody tr');
            let totalAmount = 0;

            rows.forEach((row, index) => {
                const totalPrice = row.cells[5].innerText; // Ô chứa tổng tiền sản phẩm
                const priceValue = parseFloat(totalPrice.replace(' đ', '').replace(',', ''));

                totalAmount += priceValue * 1000;
            });

            const totalAmountElement = document.getElementById('totalAmount');
            totalAmountElement.innerText = totalAmount.toLocaleString('vi-VN') + ' đ';
             });


       </script>
</body>
</html>